{"version":3,"sources":["store/reducer.js","store/actions.js","SearchPanel.js","RestaurantList.js","index.js","App.js"],"names":["LIST_STATUS","INITIAL","FETCHING","FETCH_DONE","FETCH_ERROR","initialState","items","listStatus","searchInCity","filterBy","ACTION_TYPES","SET_LIST_STATUS","SET_LIST_ITEMS","SET_CRITERIA","combineReducers","restaurant","state","arguments","length","undefined","action","type","data","Object","objectSpread","_action$data","_action$data$listStat","_action$data2","setListItems","setSearchCriteria","_ref","connect","dispatch","_useState","useState","_useState2","slicedToArray","setCity","_useState3","_useState4","setFilterBy","react_default","a","createElement","className","onSubmit","event","preventDefault","_ref2","_ref3","asyncToGenerator","regenerator_default","mark","_callee","getState","_getState","response","_ref4","wrap","_context","prev","next","status","fetch","concat","sent","json","restaurants","map","_ref5","id","name","address","area","price","stop","_x","_x2","apply","this","fetchRestaruants","required","placeholder","onChange","target","value","_ref$items","_ref$filterBy","_ref$searchInCity","displayItems","filter","item","toLowerCase","includes","Fragment","key","middlewares","thunk","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","AppRoot","es","src_SearchPanel","src_RestaurantList","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.825821ae.chunk.js","sourcesContent":["import { combineReducers } from 'redux';\n\nexport const LIST_STATUS = {\n    INITIAL: 'list.state.initial',\n    FETCHING: 'list.state.fetching',\n    FETCH_DONE: 'list.state.fetch_done',\n    FETCH_ERROR: 'list.state.fetch_error'\n\n}\nconst initialState = {\n    items: [],\n    listStatus: LIST_STATUS.INITIAL,\n    searchInCity: '',\n    filterBy: ''\n}\nexport const ACTION_TYPES = {\n    SET_LIST_STATUS: 'list.set_status',\n    SET_LIST_ITEMS: 'list.set_items',\n    SET_CRITERIA: 'list.set_criteria'\n}\n\nfunction restaurantReducer(state = initialState, action) {\n    switch (action.type) {\n        case ACTION_TYPES.SET_LIST_STATUS: {\n            const { listStatus } = action.data;\n            return {\n                ...state,\n                listStatus\n            }\n        }\n        case ACTION_TYPES.SET_LIST_ITEMS: {\n            const { items, listStatus = LIST_STATUS.FETCH_DONE } = action.data;\n            return {\n                ...state,\n                items,\n                listStatus\n            }\n        }\n        case ACTION_TYPES.SET_CRITERIA: {\n            const { searchInCity, filterBy } = action.data;\n            return {\n                ...state,\n                searchInCity,\n                filterBy\n            }\n        }\n        default: {\n            return state;\n        }\n    }\n}\n\n\n/*we don't need combinedReducer here as we have only one reducer function.\nbut as we scale we need this*/\nexport default combineReducers({\n    'restaurant': restaurantReducer\n})\n","import { ACTION_TYPES, LIST_STATUS } from './reducer.js';\n\nexport function setListStatus(status) {\n    return {\n        type: ACTION_TYPES.SET_LIST_STATUS,\n        data: {\n            listStatus: status\n        }\n    }\n}\nexport function setListItems(items) {\n    return {\n        type: ACTION_TYPES.SET_LIST_ITEMS,\n        data: {\n            items\n        }\n    }\n}\nexport function setSearchCriteria({ searchInCity, filterBy }) {\n    return {\n        type: ACTION_TYPES.SET_CRITERIA,\n        data: {\n            searchInCity,\n            filterBy\n        }\n    }\n}\nexport function fetchRestaruants({ searchInCity, filterBy }) {\n    return async (dispatch, getState) => {\n        const { restaurant } = getState();\n        if (searchInCity !== restaurant.searchInCity) {\n            dispatch(setListStatus(LIST_STATUS.FETCHING));\n            const response = await fetch(`http://opentable.herokuapp.com/api/restaurants?city=${searchInCity}`);\n            const { restaurants: items } = await response.json();\n            dispatch(setListItems(items.map(({ id, name, address, area, price }) => ({ id, name, address, area, price }))));\n        }\n        dispatch(setSearchCriteria({ searchInCity, filterBy }));\n    }\n}","import React, { useState } from 'react';\nimport { connect } from 'react-redux';\nimport { fetchRestaruants } from 'store/actions.js';\n\nexport const SearchPanel = ({ dispatch }) => {\n    const [searchInCity, setCity] = useState('');\n    const [filterBy, setFilterBy] = useState('');\n\n    const searchRestaurants = event => {\n        event.preventDefault();\n        dispatch(fetchRestaruants({ searchInCity, filterBy }));\n    }\n    return <div className=\"searchForm\">\n        <form onSubmit={searchRestaurants}>\n            <input required=\"required\" type=\"text\" name=\"searchInCity\" placeholder=\"City Name\"\n                onChange={event => setCity(event.target.value)}\n            />\n            <input type=\"text\" name=\"filterBy\" placeholder=\"Refine\"\n                onChange={event => setFilterBy(event.target.value)} />\n            <button type=\"submit\">Search</button>\n        </form>\n    </div>\n}\n\nexport default connect()(SearchPanel);","import React from 'react';\nimport { connect } from 'react-redux';\nimport { LIST_STATUS } from 'store/reducer.js';\n\nexport const RestaurantList = ({ items = [], filterBy = undefined, searchInCity = '', listStatus }) => {\n\n    const filterItems = () => items.filter(item => {\n        const { name, address, area } = item;\n        const searchIn = `${name}${address}${area}`.toLowerCase();\n        return searchIn.toLowerCase().includes(filterBy.toLowerCase());\n    });\n    const displayItems = !!filterBy ? filterItems() : items;\n\n    if (listStatus === LIST_STATUS.INITIAL) {\n        return <div className=\"incenter\">\n            Please enter a city to search. e.g. Orleans,Osseo,Norman etc.\n        </div>\n    }\n    else if (listStatus === LIST_STATUS.FETCHING) {\n        return <div className=\"incenter\">\n            Please wait\n        </div>\n    } else if (displayItems.length === 0) {\n        return <div className=\"incenter\">\n            No Restaurant found for {searchInCity} {!!filterBy && `and ${filterBy}`}\n        </div >\n    }\n    return <React.Fragment>\n        <div className=\"resultHeader\">\n            <h2>Name</h2>\n            <h2>Address</h2>\n            <h2>Price</h2>\n        </div>\n        <div className=\"results\">\n            {displayItems.map(item => <div className=\"resultElement\" key={item.id}>\n                <h3>{item.name}</h3>\n                <h3>{item.address}</h3>\n                <h3>{item.price}</h3>\n            </div>)}\n        </div>\n    </React.Fragment>\n}\n\nconst mapStateToProps = ({ restaurant }) => ({\n    items: restaurant.items,\n    searchInCity: restaurant.searchInCity,\n    filterBy: restaurant.filterBy,\n    listStatus: restaurant.listStatus\n});\n\nexport default connect(mapStateToProps)(RestaurantList)","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { createStore, applyMiddleware, compose } from 'redux';\nimport { Provider } from 'react-redux';\nimport thunk from 'redux-thunk';\nimport App from 'App.js';\nimport reducers from 'store/reducer';\nimport './index.css';\n\n\nconst middlewares = [thunk];\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst store = createStore(reducers, composeEnhancers(applyMiddleware(...middlewares)));\n\nconst AppRoot = <Provider store={store}>\n   <App />\n</Provider>\n\nReactDOM.render(AppRoot, document.getElementById('root'));\n","import React from 'react'\nimport SearchPanel from './SearchPanel.js';\nimport RestaurantList from './RestaurantList.js';\n\nexport default () => <div className=\"body-cont\">\n  <aside />\n  <main>\n    <SearchPanel />\n    <RestaurantList />\n  </main>\n</div>"],"sourceRoot":""}